(this.webpackJsonpleehepily27072020=this.webpackJsonpleehepily27072020||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(6),o=a.n(l),i=(a(82),a(83),a(33)),r=a(37),s=a(12),u=a(162),m=a(156),d=a(157),f=a(158),h=a(159),p=a(160),b=a(161),E=a(118),k=a(123),v=a(120),g=a(119),y=a(45),w=a.n(y),S=a(65),j=a.n(S),O=a(38),T=(a(63),a(64),a(26)),x="https://servergrid.herokuapp.com/",D=["Hamilton","Mika","K's choice","Amanda Palmer"];function C(){var e=Object(T.b)(),t=c.a.useState(),a=Object(s.a)(t,2),l=a[0],o=a[1],y=c.a.useState(),S=Object(s.a)(y,2),C=S[0],A=S[1],G=c.a.useState(),R=Object(s.a)(G,2),I=R[0],P=R[1],N=c.a.useState(!1),K=Object(s.a)(N,2),M=K[0],U=K[1],Y=c.a.useState({}),B=Object(s.a)(Y,2),F=B[0],H=B[1],J=c.a.useState(""),_=Object(s.a)(J,2),q=_[0],W=_[1],z=c.a.useState(""),L=Object(s.a)(z,2),Q=L[0],V=L[1],X=Object(T.c)((function(e){return e.showTickets})),Z=c.a.useState({sortable:!0,flex:1}),$=Object(s.a)(Z,1)[0],ee=function(e){e.persist(),"tickets"===e.target.name&&H((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(i.a)({},e.target.name,Number(e.target.value)))})),H((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(i.a)({},e.target.name,e.target.value))}))};Object(n.useEffect)((function(){w.a.get(x).then((function(e){A(e.data)})).catch((function(e){console.log(e)}));o([{field:"name",sortable:!0},{field:"date",sortable:!0},{field:"show",sortable:!0},{field:"tickets",unSortIcon:!0}])}),[]);var te=D.map((function(e,t){return c.a.createElement(u.a,{key:t,value:e},e)}));return c.a.createElement("div",{style:{width:700,height:"100%"}},c.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column"}},c.a.createElement("div",{style:{marginBottom:"4px"}},c.a.createElement(m.a,null,c.a.createElement(d.a,{disableSpacing:!0},c.a.createElement(f.a,{onClick:function(){U(!M)}},"Add Items"),c.a.createElement(f.a,{onClick:function(){return function(){var e=[];I.applyTransaction({remove:I.getSelectedRows()}),I.forEachNode((function(t){e.push(t.data)})),w.a.post(x+"removeUserData",e).then((function(e){})).catch((function(e){console.log(e)}))}()}},"Remove Selected")),c.a.createElement(h.a,{in:M,timeout:"auto",unmountOnExit:!0},c.a.createElement(p.a,{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement(b.a,{autoFocus:!0,name:"name",label:"Name",onChange:ee,value:F.name||""}),c.a.createElement(E.a,null,c.a.createElement(k.a,{id:"demo-simple-select-required-label"},"Select Show"),c.a.createElement(v.a,{style:{width:165},value:q,onChange:function(e){e.persist(),W(e.target.value),V(X[e.target.value])},displayEmpty:!0,inputProps:{"aria-label":"Without label"}},te),c.a.createElement(g.a,null,""!==Q?Q:"")),c.a.createElement(b.a,{name:"tickets",label:"Tickets",type:"number",InputProps:{inputProps:{min:""!==Q?1:0,max:""!==Q?Q:0,onKeyDown:function(e){e.preventDefault()}}},value:F.tickets||"",onChange:ee}),c.a.createElement(f.a,{onClick:function(){return function(){var t={name:F.name||"no data",date:j()().format("DD/MM/YYYY"),show:q,tickets:F.tickets||"no data"};if(w.a.post(x+"postUserData",t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),I.applyTransaction({add:[t]}),"no data"!==t.tickets){var a={name:t.show,tickets:t.tickets};console.log("firest step",a),e({type:"UPDATE_TICKET",payload:a})}}()}},"Add"))))),c.a.createElement("div",{style:{flexGrow:"1"}},c.a.createElement("div",{id:"myGrid",style:{height:400,width:"100%"},className:"ag-theme-alpine"},c.a.createElement(O.AgGridReact,{rowData:C,columnDefs:l,defaultColDef:$,rowSelection:"multiple",animateRows:!0,onGridReady:function(e){P(e.api)}})))))}function A(e){var t=e.rowData,a=c.a.useState(),l=Object(s.a)(a,2),o=l[0],i=l[1],r=c.a.useState(),u=Object(s.a)(r,2),m=(u[0],u[1]),d=c.a.useState({sortable:!0,flex:1}),f=Object(s.a)(d,1)[0];Object(n.useEffect)((function(){i([{field:"name",sortable:!0},{field:"maxTickets",sortable:!0},{field:"ticketsSold",sortable:!0}])}),[]);return console.log(t),c.a.createElement("div",{style:{width:700,height:"100%"}},c.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column"}},c.a.createElement("div",{style:{flexGrow:"1"}},c.a.createElement("div",{id:"myGrid",style:{height:400,width:"100%"},className:"ag-theme-alpine"},c.a.createElement(O.AgGridReact,{rowData:t,columnDefs:o,defaultColDef:f,rowSelection:"multiple",animateRows:!0,onGridReady:function(e){m(e.api)}})))))}var G=function(){var e=Object(T.c)((function(e){return e.showTickets}));return c.a.createElement("div",null,c.a.createElement(C,null),c.a.createElement(A,{rowData:e}))},R=a(39),I={showTickets:[{name:"Hamilton",maxTickets:200,ticketsSold:0},{name:"Mika",maxTickets:150,ticketsSold:0},{name:"K's choice",maxTickets:100,ticketsSold:0},{name:"Amanda Palmer",maxTickets:200,ticketsSold:0}]};var P=function(e,t){var a=I.showTickets.findIndex((function(t){return t.name===e}));I.showTickets[a].ticketsSold=Number(I.showTickets[a].ticketsSold+t)},N=Object(R.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TICKET":return P(t.payload.name,t.payload.tickets),console.log(e),e;default:return e}}));o.a.render(c.a.createElement(T.a,{store:N},c.a.createElement(c.a.Fragment,null,c.a.createElement(G,null))),document.getElementById("root"))},77:function(e,t,a){e.exports=a(114)},82:function(e,t,a){},83:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.f584ebcb.chunk.js.map